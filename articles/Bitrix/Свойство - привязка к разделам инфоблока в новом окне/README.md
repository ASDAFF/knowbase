Свойство "Привязка к разделам инфоблока в новом окне"
=====================================================

Автор: [Павел Афанасьев](https://github.com/bupyc9)

Класс: [linksection.php](linksection.php)

Визуально свойство выглядит также как и свойство `Привязка к элементам`. Настройки свойства аналогичные, за одним
исключением, инфоблок обязательно должен быть заполнен, в отличие от свойства `Привязка к элементам`. Разница в том что
на странице выбора секций нет фильтра по инфоблокам, как в свойстве `Привязка к элементам`. ИД инфоблока передается
через гет параметр `IBLOCK_ID`.
Так выглядит свойство при одиночном значении.

![Свойство `Привязка к секциям инфоблока`, одиночное](image-1.png)

Так выглядит свойство при множественном значении

![Свойство `Привязка к секциям инфоблока`, множественное](image-2.png)

При нажатии на кнопку `(...)` откроется новое окно, в котором из списка секций можно выбрать нужную секцию, когда
произойдет выбор секции, окно закроется.
При нажатии на кнопку `добавить` так же откроется новое окно, но при выборе секции окно. Выбранный элемент добавиться
на форму.

## Описание работы свойства
На кнопки `(...)` назначен js обработчик по клику, который открывает новое окно, урл страницы передаются гет параметры
с помощью битрикс метода:

```javascript
jsUtils.OpenWindow(url, width, height);
```

Страница - `/bitrix/admin/iblock_section_search_custom.php`

Параметры:
- `lang` - язык интерфейса
- `IBLOCK_ID` - ид инфоблока, по которому происходит фильтрация секций
- `n` - значение атрибута name у инпута, который передается из параметры функции `$strHTMLControlName["VALUE"]`
- `k` - ид значения в бд, если значение новое, тогда ставиться n0...100

Гет параметр n md5 хешируется, на основе значения атрибута name весь js работает